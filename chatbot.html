<!DOCTYPE html>
<html>

        <head>
            <title>ChatBot | METelehealth</title>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1">
            <link rel="stylesheet" href="css/chatbot.css">
            <script src="https://kit.fontawesome.com/cf459a696d.js" crossorigin="anonymous"></script>
        </head>

        <body>

            <div class="header">
                <p>what do i put here</p>
            </div>

            <div>
                <a href="chatbot.html" style="float:left; position:absolute; padding-left: 5%; padding-top: 0.4%;"><img class="logo" src="images\logo.png"></a>
                <div class="navbar">
                <a href="#"><i class="fa fa-fw fa-search"></i> Search</a>
                <a href="#"><i class="fa fa-fw fa-envelope"></i> Contact</a>
                <a href="careers.html"><i class="fas fa-user-md"></i> Careers</a>
                    <div class="dropdown">
                        <a href="#"><i class="fa fa-fw fa-shield-virus"></i> COVID-19</a>
                        <div class="dropdown-content" style="min-width: 210px;">
                                <a href="#" style="text-align: center;"><i class="fa fa-fw fa-shield-virus"></i> COVID-19</a>
                                <a href="vaccinations.html" style="text-align: left;"><i class="fas fa-syringe"></i> Vaccinations</a>
                                <a href="testing-centers.html" style="text-align: left;"><i class="fas fa-vial"></i></i> Testing Centers</a>
                                <a href="https://www.worldometers.info/coronavirus/" style="text-align: left;"><i class="far fa-chart-bar"></i> Statistics</a>
                                <a href="guidelines.html" style="text-align: left;"><i class="fas fa-head-side-mask"></i> Guidelines</a>
                                <a href="symptoms.html" style="text-align: left;"><i class="fas fa-box-tissue"></i> Symptoms</a>
                        </div>
                    </div>
                    <div class="dropdown">
                        <a href="#"><i class="fa fa-fw fa-user"></i> Services</a>
                            <div class="dropdown-content">
                                <a href="#" style="text-align: center;"><i class="fa fa-fw fa-user"></i> Services</a>
                                <a href="personal-care.html" style="text-align: left;"><i class="fas fa-hand-holding-medical"></i> Personalized Care</a>
                                <a href="chatbot.html" style="text-align: left;"><i class="fas fa-robot"></i> ChatBot</a>
                                <a href="forms.html" style="text-align: left;"><i class="fas fa-file-alt"></i> Forms</a>
                            </div>
                    </div>
                    <a class="active" href="services.html" style="border-bottom: 3px solid rgb(23, 70, 143);"><i class="fa fa-fw fa-home"></i> Home</a>
                </div>
            </div>

            <div class="chat-title">
                Questions? Feel Free to ask our certied pal ben dover!
            </div>

            <div class="text-chat">
                <div>ChatBot: <span id="chatbot"></span></div>
                <div>user: <span id="user"></span></div>

                <div class="question-area">
                    <hr class="text-division">
                    <div class="text-box">
                        <div><input id="input" type="text" placeholder="Ask Any Medical Questions!" autocomplete="off"/></div>
                        <!-- <input type="text" value="Ask ChatBot"> -->
                    </div>
                </div>

            </div>
            <script type="text/javascript">
                var trigger = [
                    ["hi"],
                    ["what can you do", "what are you", "who are you"],
                    ["help", "assistance"],
                    ["help me"]
                ];
                var reply = [
                    ["Hey there, As me anything! Also, wash your hands", "Greetings, I'm happy to answer any medical questions for you", "Hey, you mind helping me. I'm stuck in this box"],
                    ["My name is ChatBot, and I am you personal assitant for anything medical! Just ask me anything realted to COVID-19, vaccinnes, daily health tips, "],
                    ["No need to fear, CHATBOT is here! Ask me any questions about COVID-19"],
                    ["Of course, as me any questions about COVID-19, vaccination, bills"]

                ];
                var alternative = ["Sorry, looks like your intellecutal capabilites transcend my processing power. Try asking me medical questions like: What is COVID-19?, Where is COVID-19?, Who is COVID-19?, Why is COVID-19?, When is COVID-19, How is COVID-19?"];
                document.querySelector("#input").addEventListener("keypress", function(e){
                    var key = e.which || e.keyCode;
                    if(key === 13) {
                        var input = document.getElementById("input").value;
                        document.getElementById("user").innerHTML = input;
                        output(input);
                    }
                });
                function output(input){
                    try{
                        var product = input + "=" + eval(input);
                    } catch(e){
                        var text = (input.toLowerCase()).replace(/[^\w\s\d]/gi, "");
                        text = text.replace(/ a /g, " ").replace(/i need /g, "").replace(/can you /g, "").replace(/please /g, "").replace(/ please/g, "");
                        if(compare(trigger, reply, text)){
                            var product = compare(trigger, reply, text);
                        } else {
                            var product = alternative[Math.floor(Math.random()*alternative.length)];
                        }
                    }
                    document.getElementById("chatbot").innerHTML = product;
                    document.getElementById("input").value = ""; //clear text box
                }
                function compare(arr, array, string){
                    var item;
                    for(var x=0; x<arr.length; x++){
                        for(var y=0; y<array.length; y++){
                            if(arr[x][y] == string){
                                items = array[x];
                                item = items[Math.floor(Math.random()*items.length)];
                            }
                        }
                    }
                    return item;
                }
            </script>
        </body>
</html>
