<!DOCTYPE html>
<html>

        <head>
            <title>ChatBot | METelehealth</title>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1">
            <link rel="stylesheet" href="css/chatbot.css">
            <script src="https://kit.fontawesome.com/cf459a696d.js" crossorigin="anonymous"></script>
        </head>

        <body>

            <div class="header">
                <p>what do i put here</p>
            </div>

            <div class="navbar">
                <a href="#" style="float: left;"><img class="logo" src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/2f/Google_2015_logo.svg/368px-Google_2015_logo.svg.png"></a>
                <a href="#"><i class="fa fa-fw fa-search"></i> Search</a>
                <a href="#"><i class="fa fa-fw fa-envelope"></i> Contact</a>
                <a href="#"><i class="fa fa-fw fa-shield-virus"></i> COVID-19</a>
                <div class="dropdown">
                    <a href="#"><i class="fa fa-fw fa-user"></i> Services</a>
                        <div class="dropdown-content">
                            <a href="#">Personalized Care</a>
                            <a href="Chatbot.html">ChatBot</a>
                            <a href="#">Link 3</a>
                        </div>
                </div>
                <a class="active" href="#" style="border-bottom: 3px solid rgb(23, 70, 143);"><i class="fa fa-fw fa-home"></i> Home</a> <!--style="text-decoration: underline;"-->
            </div>

            <div class="chat-title">
                Questions? Feel Free to ask our certied pal ben dover!
            </div>

            <div class="text-chat">
                <div>ChatBot: <span id="chatbot"></span></div>
                <div>user: <span id="user"></span></div>

                <div class="question-area">
                    <hr class="text-division">
                    <div class="text-box">
                        <div><input id="input" type="text" placeholder="Ask Any Medical Questions!" autocomplete="off"/></div>
                        <!-- <input type="submit" value="Ask ChatBot"> -->
                    </div>
                </div>

            </div>
            <script type="text/javascript">
                var trigger = [
                    ["hi"],
                    ["what can you do", "what are you", "who are you"]
                ];
                var reply = [
                    ["Hey there, As me anything! Also, wash your hands", "Greetings, I'm happy to answer any medical questions for you", "Hey, you mind helping me. I'm stuck in this box"],
                    ["My name is ChatBot, and I am you personal assitant for anything medical! Just ask me anything realted to COVID-19, vaccinnes, daily health tips, "]
                ];
                var alternative = ["i am good","I could be better"];
                document.querySelector("#input").addEventListener("keypress", function(e){
                    var key = e.which || e.keyCode;
                    if(key === 13) {
                        var input = document.getElementById("input").value;
                        document.getElementById("user").innerHTML = input;
                        output(input);
                    }
                });
                function output(input){
                    try{
                        var product = input + "=" + eval(input);
                    } catch(e){
                        var text = (input.toLowerCase()).replace(/[^\w\s\d]/gi, "");
                        text = text.replace(/ a /g, " ");
                        if(compare(trigger, reply, text)){
                            var product = compare(trigger, reply, text);
                        } else {
                            var product = alternative[Math.floor(Math.random()*alternative.length)];
                        }
                    }
                    document.getElementById("chatbot").innerHTML = product;
                    document.getElementById("input").value = ""; //clear text box
                }
                function compare(arr, array, string){
                    var item;
                    for(var x=0; x<arr.length; x++){
                        for(var y=0; y<array.length; y++){
                            if(arr[x][y] == string){
                                items = array[x];
                                item = items[Math.floor(Math.random()*items.length)];
                            }
                        }
                    }
                    return item;
                }
            </script>
        </body>
</html>
